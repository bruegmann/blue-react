import{c as V,r as o,g as Q,j as l,f as U}from"./index-CRw26Wko.js";function Z(k){const e=V.c(59),{modalContent:s,modalTitle:v,modalIcon:I,unSetModalContent:S,onSubmit:n,defaultInput:i,type:c,inputType:q,switchPrimaryBtn:A,acceptBtnText:_,cancelBtnText:B}=k,K=q===void 0?"text":q,E=A===void 0?!1:A,G=o.useRef(null),[T,W]=o.useState(i||"");let g;e[0]!==n||e[1]!==S?(g=()=>{S(),n&&n(null)},e[0]=n,e[1]=S,e[2]=g):g=e[2];const a=g;let $;e[3]!==n||e[4]!==S?($=()=>{S(),n&&n(!1)},e[3]=n,e[4]=S,e[5]=$):$=e[5];const F=$;let M;e[6]!==T||e[7]!==n?(M=b=>{b.preventDefault(),n&&n(T||!0)},e[6]=T,e[7]=n,e[8]=M):M=e[8];const H=M;let R;e[9]===Symbol.for("react.memo_cache_sentinel")?(R={maxWidth:"10rem"},e[9]=R):R=e[9];const O=R;let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{const b=G.current;b.removeEventListener("shown.bs.modal",w);const j=b.querySelector(".btn-primary, .form-control");j&&j.focus()},e[10]=w):w=e[10];let Y,P;e[11]!==i?(Y=()=>{W(i||"")},P=[i],e[11]=i,e[12]=Y,e[13]=P):(Y=e[12],P=e[13]),o.useEffect(Y,P);let z;e[14]!==a||e[15]!==s?(z=()=>{const b=G.current;let j=U.getInstance(b);j?(s!==void 0?j.show():j.hide(),b.addEventListener("shown.bs.modal",w)):(j=new U(b),j.hide(),b.addEventListener("hidden.bs.modal",()=>{a()}))},e[14]=a,e[15]=s,e[16]=z):z=e[16];let C;e[17]!==s?(C=[s],e[17]=s,e[18]=C):C=e[18],o.useEffect(z,C);let L;e[19]!==I?(L=I!==void 0&&l.jsx("div",{className:"me-2",children:I}),e[19]=I,e[20]=L):L=e[20];let h;e[21]!==v?(h=v||Q("Message"),e[21]=v,e[22]=h):h=e[22];let r;e[23]!==h?(r=l.jsx("h5",{className:"modal-title",children:h}),e[23]=h,e[24]=r):r=e[24];let x;e[25]!==a?(x=l.jsx("button",{type:"button",className:"btn-close",onClick:a}),e[25]=a,e[26]=x):x=e[26];let d;e[27]!==L||e[28]!==r||e[29]!==x?(d=l.jsxs("div",{className:"modal-header align-items-center",children:[L,r,x]}),e[27]=L,e[28]=r,e[29]=x,e[30]=d):d=e[30];let m;e[31]===Symbol.for("react.memo_cache_sentinel")?(m={whiteSpace:"pre-wrap"},e[31]=m):m=e[31];let f;e[32]!==T||e[33]!==K||e[34]!==c?(f=c==="ask"&&l.jsx("input",{type:K,className:"form-control mt-1",value:T,onChange:b=>{const{target:j}=b;return W(j.value)},autoFocus:!0}),e[32]=T,e[33]=K,e[34]=c,e[35]=f):f=e[35];let t;e[36]!==s||e[37]!==f?(t=l.jsxs("div",{className:"modal-body",style:m,children:[s,f]}),e[36]=s,e[37]=f,e[38]=t):t=e[38];const N=`btn ${E?"btn-outline-primary":"btn-primary"} d-block w-100`;let u;e[39]!==_||e[40]!==c?(u=c==="verify"?_||Q("Yes"):_||"OK",e[39]=_,e[40]=c,e[41]=u):u=e[41];let y;e[42]!==N||e[43]!==u?(y=l.jsx("button",{type:"submit",className:N,style:O,children:u}),e[42]=N,e[43]=u,e[44]=y):y=e[44];let p;e[45]!==a||e[46]!==B||e[47]!==F||e[48]!==E||e[49]!==c?(p=(c==="ask"||c==="verify")&&(c==="verify"?l.jsx("button",{type:"button",className:`btn ${E?"btn-primary":"btn-outline-primary"} d-block w-100`,style:O,onClick:F,children:B||Q("No")}):l.jsx("button",{type:"button",className:"btn btn-outline-primary d-block w-100",style:O,onClick:a,children:B||Q("Cancel")})),e[45]=a,e[46]=B,e[47]=F,e[48]=E,e[49]=c,e[50]=p):p=e[50];let D;e[51]!==y||e[52]!==p?(D=l.jsxs("div",{className:"modal-footer",children:[y,p]}),e[51]=y,e[52]=p,e[53]=D):D=e[53];let J;return e[54]!==H||e[55]!==d||e[56]!==t||e[57]!==D?(J=l.jsx("div",{className:"modal",ref:G,tabIndex:-1,children:l.jsx("div",{className:"modal-dialog",children:l.jsx("div",{className:"modal-content",children:l.jsxs("form",{onSubmit:H,children:[d,t,D]})})})}),e[54]=H,e[55]=d,e[56]=t,e[57]=D,e[58]=J):J=e[58],J}const X=o.createContext({ask:void 0,tell:void 0,verify:void 0}),te=k=>{const e=V.c(23);let s,v;e[0]!==k?({children:s,...v}=k,e[0]=k,e[1]=s,e[2]=v):(s=e[1],v=e[2]);const[I,S]=o.useState("tell"),[n,i]=o.useState(),[c,q]=o.useState(),[A,_]=o.useState(),[B,K]=o.useState(),[E,G]=o.useState(),[T,W]=o.useState(!1),[g,a]=o.useState(),[$,F]=o.useState();let M;e[3]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{i(void 0)},e[3]=M):M=e[3];const H=M,[R,O]=o.useState();let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=(d,m)=>new Promise(f=>{if(S("ask"),i(d),m){const{title:t,icon:N,inputType:u,switchPrimaryBtn:y,acceptBtnText:p,cancelBtnText:D}=m;q(t),_(N),G(u),W(y),a(p),F(D)}K(""),O(()=>t=>{f(t),i(void 0),K(void 0)})}),e[4]=w):w=e[4];const Y=w;let P;e[5]===Symbol.for("react.memo_cache_sentinel")?(P=(d,m)=>new Promise(f=>{if(S("tell"),i(d),m){const{title:t,icon:N,switchPrimaryBtn:u,acceptBtnText:y,cancelBtnText:p}=m;q(t),_(N),W(u),a(y),F(p)}O(()=>t=>{f(!!t),i(void 0)})}),e[5]=P):P=e[5];const z=P;let C;e[6]===Symbol.for("react.memo_cache_sentinel")?(C=(d,m)=>new Promise(f=>{if(S("verify"),i(d),m){const{title:t,icon:N,switchPrimaryBtn:u,acceptBtnText:y,cancelBtnText:p}=m;q(t),_(N),W(u),a(y),F(p)}O(()=>t=>{f(!!t),i(void 0)})}),e[6]=C):C=e[6];const L=C;let h;e[7]===Symbol.for("react.memo_cache_sentinel")?(h={ask:Y,tell:z,verify:L},e[7]=h):h=e[7];let r;e[8]!==g||e[9]!==$||e[10]!==B||e[11]!==E||e[12]!==n||e[13]!==A||e[14]!==c||e[15]!==R||e[16]!==T||e[17]!==I?(r=l.jsx(Z,{modalContent:n,modalTitle:c,modalIcon:A,unSetModalContent:H,onSubmit:R,defaultInput:B,type:I,inputType:E,switchPrimaryBtn:T,acceptBtnText:g,cancelBtnText:$}),e[8]=g,e[9]=$,e[10]=B,e[11]=E,e[12]=n,e[13]=A,e[14]=c,e[15]=R,e[16]=T,e[17]=I,e[18]=r):r=e[18];let x;return e[19]!==s||e[20]!==v||e[21]!==r?(x=l.jsxs(X.Provider,{value:h,...v,children:[s,r]}),e[19]=s,e[20]=v,e[21]=r,e[22]=x):x=e[22],x},se=()=>{const k=o.useContext(X);if(k===void 0)throw new Error("useModal must be used within a ModalProvider");return k};export{te as M,se as u};
